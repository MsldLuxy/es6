<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="Generator" content="EditPlus®">
  <meta name="Author" content="不会爬树的鱼">
  <meta name="Keywords" content="">
  <meta name="Description" content="">
  <title>Title</title>
    <style>
        body,div,ul,li,ol,p,span,h1,h2,h3,h4,h5,h6,a,img,table,form{margin:0;padding:0;}
        body{font:16px/1.5 "Microsoft Yahei" ;}
        ul{list-style:none;}
        a{text-decoration:none;}
        .clearfix:after{content:''; display:block; clear:both;}
        
    </style>
 </head>
 <body>
 
    <script>
        {
            let str = 'String';
            console.log('includes',str.includes('S')); //true
            console.log('start',str.startsWith('str')); // false
            console.log('end',str.endsWith('ng')); // true

        }
        {
            console.log('abc'.repeat(3)); //abcabcabc
            console.log('abc'.repeat(2.4)); //abcab
            console.log('abc'.repeat(0)); //""
            console.log('abc'.repeat(-0.7)); //""
           // console.log('abc'.repeat(-1)); //报错
        }

        {
            let name = 'list';
            let info = 'hello world';
            let m = `i am ${name},${info}`;
            console.log(m);
        }

        {
            console.log('1'.padStart(2,'0')); //两个参数  第一个是长度  不够时用后面的补齐  补在前面的  用于日期补齐等很有用
            console.log('1'.padEnd(2,'0')); //补在后面的
        }


        //标签模板
        {
            let name = 'Luxy';
            let info = 'hello world';
            console.log(abc`My name is ${name}, ${info} `); //My name is ,, , Luxyhello world
            function abc(str, v1, v2) {
                console.log(str, v1, v2); //["My name is ", ", ", " ", raw: Array(3)] "Luxy" "hello world"
                return str + v1 + v2;
            }
        }
        {
            const total = 30;
            let msg = passthru`The total is ${total} (${total*1.05} with tax)`;
            console.log(msg);
            function passthru(literals) {
                console.log(literals); //["The total is ", " (", " with tax)", raw: Array(3)]
                console.log(arguments); //Arguments(3) [Array(3), 30, 31.5, callee: ƒ, Symbol(Symbol.iterator): ƒ]
                let result = "";
                let i = 0;
                while(i < literals.length){
                    result += literals[i++];
                    if(i < arguments.length){
                        result += arguments[i];
                    }
                }
                return result;
            }
        }
        {
            let sender = 'luxy';
            let msg = safer`<p>${sender} has sent you a message.</p>`;
            console.log(msg);
            function safer(tem) {
                console.log(tem);
                let s = tem[0];
                for(var i=0; i<arguments.length; i++){
                    let arg = String(arguments[i]);
                    s += arg.replace(/&/g, "&amp;").replace(/>/g, "&gt;").replace(/</g, "&lt;");

                    s += tem[i];
                }
                return s;
            }
        }

        //raw
        {
            console.log(String.raw`Hi\n${2+3}`); //Hi\n5
            console.log(`Hi\n${2+3}`); //Hi
                                       //5
        }

        foo(1);

        function foo(a) {

            var b = 2;
            bar();
            function bar() {
                console.log(c);
            }
            var c = 3;

        }
    </script>
 </body>
</html>
